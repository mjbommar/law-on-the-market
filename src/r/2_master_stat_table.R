#Ver: 1.1 - 
# Replication Materials- "Law on the Market"
# Authors: Daniel Martin Katz, Jim Chen, Tyler Sollinger & Michael J Bommarito II
# Updated: 6/20/2015

#Load the following packages - might need to use install.packages("nameofpackage") if you do not have them already 

library(dplyr)
library(reshape2)
library(tidyr)

#Combine average abnormal returns across firms of each case into a list of data frames.

LOTM_Stats <- list(
  data.frame(Case="1",Index="SPY",Case1$abc),
  data.frame(Case="1",Index="XLP",Case1.XLP$abc),
  data.frame(Case="2",Index="SPY",Case2$abc),
  data.frame(Case="2",Index="XLE",Case2.XLE$abc),
  data.frame(Case="3",Index="SPY",Case3$abc),
  data.frame(Case="3",Index="XLP",Case3.XLP$abc),
  data.frame(Case="4",Index="SPY",Case4$abc),
  data.frame(Case="4",Index="XLY",Case4.XLY$abc),
  data.frame(Case="5",Index="SPY",Case5$abc),
  data.frame(Case="5",Index="XLV",Case5.XLV$abc),
  data.frame(Case="6",Index="SPY",Case6$abc),
  data.frame(Case="6",Index="XLI",Case6.XLI$abc),
  data.frame(Case="7",Index="SPY",Case7$abc),
  data.frame(Case="7",Index="XLY",Case7.XLY$abc),
  data.frame(Case="8",Index="SPY",Case8$abc),
  data.frame(Case="8",Index="XLY",Case8.XLY$abc),
  data.frame(Case="9",Index="SPY",Case9$abc),
  data.frame(Case="9",Index="XLF",Case9.XLF$abc),
  data.frame(Case="10",Index="SPY",Case10$abc),
  data.frame(Case="10",Index="XLE",Case10.XLE$abc),
  data.frame(Case="11",Index="SPY",Case11$abc),
  data.frame(Case="12",Index="SPY",Case12$abc),
  data.frame(Case="12",Index="XLE",Case12.XLE$abc),
  data.frame(Case="13",Index="SPY",Case13$abc),
  data.frame(Case="13",Index="XLE",Case13.XLE$abc),
  data.frame(Case="14",Index="SPY",Case14$abc),
  data.frame(Case="14",Index="XLV",Case14.XLV$abc),
  data.frame(Case="15",Index="SPY",Case15$abc),
  data.frame(Case="15",Index="XLY",Case15.XLY$abc),
  data.frame(Case="16",Index="SPY",Case16$abc),
  data.frame(Case="16",Index="XLI",Case16.XLI$abc),
  data.frame(Case="17",Index="SPY",Case17$abc),
  data.frame(Case="17",Index="XLY",Case17.XLY$abc),
  data.frame(Case="18",Index="SPY",Case18$abc),
  data.frame(Case="18",Index="XLI",Case18.XLI$abc),
  data.frame(Case="19",Index="SPY",Case19$abc),
  data.frame(Case="19",Index="XLI",Case19.XLI$abc),
  data.frame(Case="20",Index="SPY",Case20$abc),
  data.frame(Case="20",Index="XLB",Case20.XLB$abc),
  data.frame(Case="21",Index="SPY",Case21$abc),
  data.frame(Case="21",Index="XLI",Case21.XLI$abc),
  data.frame(Case="22",Index="SPY",Case22$abc),
  data.frame(Case="22",Index="XLP",Case22.XLP$abc),
  data.frame(Case="23",Index="SPY",Case23$abc),
  data.frame(Case="23",Index="XLP",Case23.XLP$abc),
  data.frame(Case="24",Index="SPY",Case24$abc),
  data.frame(Case="24",Index="XLY",Case24.XLY$abc),
  data.frame(Case="25",Index="SPY",Case25$abc),
  data.frame(Case="25",Index="XLY",Case25.XLY$abc),
  data.frame(Case="26",Index="SPY",Case26$abc),
  data.frame(Case="26",Index="XLB",Case26.XLB$abc),
  data.frame(Case="26",Index="XLI",Case26.XLI$abc),
  data.frame(Case="26",Index="XLP",Case26.XLP$abc),
  data.frame(Case="26",Index="XLV",Case26.XLV$abc),
  data.frame(Case="27",Index="SPY",Case27$abc),
  data.frame(Case="27",Index="XLY",Case27.XLY$abc),
  data.frame(Case="28",Index="SPY",Case28$abc),
  data.frame(Case="29",Index="SPY",Case29$abc),
  data.frame(Case="29",Index="XLE",Case29.XLE$abc),
  data.frame(Case="30",Index="SPY",Case30$abc),
  data.frame(Case="30",Index="IYZ",Case30.IYZ$abc),
  data.frame(Case="30",Index="XLY",Case30.XLY$abc),
  data.frame(Case="31",Index="SPY",Case31$abc),
  data.frame(Case="31",Index="XLE",Case31.XLE$abc),
  data.frame(Case="31",Index="WLB",Case31.WLB$abc),
  data.frame(Case="31",Index="WLB",Case31.WLB.XLE$abc),
  data.frame(Case="32",Index="SPY",Case32$abc),
  data.frame(Case="32",Index="XLU",Case32.XLU$abc),
  data.frame(Case="33",Index="SPY",Case33$abc),
  data.frame(Case="33",Index="XLY",Case33.XLY$abc),
  data.frame(Case="34",Index="SPY",Case34$abc),
  data.frame(Case="35",Index="SPY",Case35$abc),
  data.frame(Case="35",Index="IYZ",Case35.IYZ$abc),
  data.frame(Case="35",Index="XLY",Case35.XLY$abc),
  data.frame(Case="36",Index="SPY",Case36$abc),
  data.frame(Case="36",Index="XLY",Case36.XLY$abc),
  data.frame(Case="36",Index="IYZ",Case36.IYZ$abc),
  data.frame(Case="37",Index="SPY",Case37$abc),
  data.frame(Case="37",Index="XLE",Case37.XLE$abc),
  data.frame(Case="38",Index="SPY",Case38$abc),
  data.frame(Case="38",Index="XLF",Case38.XLF$abc),
  data.frame(Case="39",Index="SPY",Case39$abc),
  data.frame(Case="39",Index="XLV",Case39.XLV$abc),
  data.frame(Case="40",Index="XLF",Case40.XLF$abc),
  data.frame(Case="40",Index="XLY",Case40.XLY$abc),
  data.frame(Case="41",Index="SPY",Case41$abc),
  data.frame(Case="41",Index="XLB",Case41.XLB$abc),
  data.frame(Case="42",Index="SPY",Case42$abc),
  data.frame(Case="42",Index="XLI",Case42.XLI$abc),
  data.frame(Case="43",Index="SPY",Case43$abc),
  data.frame(Case="43",Index="XLI",Case43.XLI$abc),
  data.frame(Case="44",Index="SPY",Case44$abc),
  data.frame(Case="44",Index="XLE",Case44.XLE$abc),
  data.frame(Case="45",Index="SPY",Case45$abc),
  data.frame(Case="45",Index="XLI",Case45.XLI$abc),
  data.frame(Case="46",Index="SPY",Case46$abc),
  data.frame(Case="46",Index="XLY",Case46.XLY$abc),
  data.frame(Case="47",Index="SPY",Case47$abc),
  data.frame(Case="47",Index="XLI",Case47.XLI$abc),
  data.frame(Case="48",Index="SPY",Case48$abc),
  data.frame(Case="48",Index="XLV",Case48.XLV$abc),
  data.frame(Case="49",Index="SPY",Case49$abc),
  data.frame(Case="49",Index="XLF",Case49.XLF$abc),
  data.frame(Case="50",Index="SPY",Case50$abc),
  data.frame(Case="51",Index="SPY",Case51$abc),
  data.frame(Case="51",Index="XLV",Case51.XLV$abc),
  data.frame(Case="52",Index="SPY",Case52$abc),
  data.frame(Case="52",Index="XLI",Case52.XLI$abc),
  data.frame(Case="53",Index="SPY",Case53$abc),
  data.frame(Case="53",Index="XLE",Case53.XLE$abc),
  data.frame(Case="54",Index="SPY",Case54$abc),
  data.frame(Case="54",Index="XLP",Case54.XLP$abc),
  data.frame(Case="54",Index="XLY",Case54.XLY$abc),
  data.frame(Case="55",Index="SPY",Case55$abc),
  data.frame(Case="55",Index="XLY",Case55.XLY$abc),
  data.frame(Case="56",Index="SPY",Case56$abc),
  data.frame(Case="56",Index="XLP",Case56.XLP$abc),
  data.frame(Case="57",Index="SPY",Case57$abc),
  data.frame(Case="57",Index="XLI",Case57.XLI$abc),
  data.frame(Case="58",Index="SPY",Case58$abc),
  data.frame(Case="58",Index="XLF",Case58.XLF$abc),
  data.frame(Case="59",Index="SPY",Case59$abc),
  data.frame(Case="59",Index="XLF",Case59.XLF$abc),
  data.frame(Case="60",Index="SPY",Case60$abc),
  data.frame(Case="60",Index="XLY",Case60.XLY$abc),
  data.frame(Case="61",Index="SPY",Case61$abc),
  data.frame(Case="61",Index="XLF",Case61.XLF$abc),
  data.frame(Case="61",Index="XLI",Case61.XLI$abc),
  data.frame(Case="62",Index="SPY",Case62$abc),
  data.frame(Case="62",Index="IYZ",Case62.IYZ$abc),
  data.frame(Case="62",Index="XLY",Case62.XLY$abc),
  data.frame(Case="63",Index="SPY",Case63$abc),
  data.frame(Case="63",Index="XLF",Case63.XLF$abc),
  data.frame(Case="63",Index="XLI",Case63.XLI$abc),
  data.frame(Case="64",Index="SPY",Case64$abc),
  data.frame(Case="64",Index="XLF",Case64.XLF$abc),
  data.frame(Case="64",Index="XLY",Case64.XLY$abc),
  data.frame(Case="65",Index="SPY",Case65$abc),
  data.frame(Case="65",Index="XLY",Case65.XLY$abc),
  data.frame(Case="66",Index="SPY",Case66$abc),
  data.frame(Case="66",Index="XLI",Case66.XLI$abc),
  data.frame(Case="67",Index="SPY",Case67$abc),
  data.frame(Case="67",Index="XLV",Case67.XLV$abc),
  data.frame(Case="68",Index="SPY",Case68$abc),
  data.frame(Case="68",Index="XLK",Case68.XLK$abc),
  data.frame(Case="69",Index="SPY",Case69$abc),
  data.frame(Case="69",Index="XLE",Case69.XLE$abc),
  data.frame(Case="69",Index="XOM",Case69.XOM$abc),
  data.frame(Case="70",Index="SPY",Case70$abc),
  data.frame(Case="70",Index="XLI",Case70.XLI$abc),
  data.frame(Case="71",Index="SPY",Case71$abc),
  data.frame(Case="71",Index="XLB",Case71.XLB$abc),
  data.frame(Case="71",Index="XLI",Case71.XLI$abc),
  data.frame(Case="72",Index="SPY",Case72$abc),
  data.frame(Case="72",Index="XLE",Case72.XLE$abc),
  data.frame(Case="73",Index="SPY",Case73$abc),
  data.frame(Case="73",Index="XLB",Case73.XLB$abc),
  data.frame(Case="74",Index="SPY",Case74$abc),
  data.frame(Case="74",Index="XLP",Case74.XLP$abc),
  data.frame(Case="75",Index="SPY",Case75$abc),
  data.frame(Case="75",Index="XLE",Case75.XLE$abc),
  data.frame(Case="76",Index="SPY",Case76$abc),
  data.frame(Case="77",Index="SPY",Case77$abc),
  data.frame(Case="77",Index="XLV",Case77.XLV$abc),
  data.frame(Case="78",Index="SPY",Case78$abc),
  data.frame(Case="78",Index="XLI",Case78.XLI$abc),
  data.frame(Case="79",Index="SPY",Case79$abc),
  data.frame(Case="79",Index="XLE",Case79.XLE$abc),
  data.frame(Case="80",Index="SPY",Case80$abc),
  data.frame(Case="81",Index="SPY",Case81$abc),
  data.frame(Case="82",Index="SPY",Case82$abc),
  data.frame(Case="83",Index="SPY",Case83$abc),
  data.frame(Case="84",Index="SPY",Case84$abc),
  data.frame(Case="85",Index="SPY",Case85$abc),
  data.frame(Case="86",Index="SPY",Case86$abc),
  data.frame(Case="86",Index="XLI",Case86.XLI$abc),
  data.frame(Case="87",Index="SPY",Case87$abc),
  data.frame(Case="87",Index="XLE",Case87.XLE$abc),
  data.frame(Case="88",Index="SPY",Case88$abc),
  data.frame(Case="88",Index="XLK",Case88.XLK$abc),
  data.frame(Case="89",Index="SPY",Case89$abc),
  data.frame(Case="89",Index="XLY",Case89.XLY$abc),
  data.frame(Case="90",Index="SPY",Case90$abc),
  data.frame(Case="90",Index="XES",Case90.XES$abc),
  data.frame(Case="90",Index="XLE",Case90.XLE$abc),
  data.frame(Case="91",Index="SPY",Case91$abc),
  data.frame(Case="91",Index="XPH",Case91.XPH$abc),
  data.frame(Case="92",Index="SPY",Case92$abc),
  data.frame(Case="92",Index="XLI",Case92.XLI$abc),
  data.frame(Case="93",Index="SPY",Case93$abc),
  data.frame(Case="93",Index="XLP",Case93.XLP$abc),
  data.frame(Case="94",Index="SPY",Case94$abc),
  data.frame(Case="94",Index="XLF",Case94.XLF$abc),
  data.frame(Case="95",Index="SPY",Case95$abc),
  data.frame(Case="95",Index="XLU",Case95.XLU$abc),
  data.frame(Case="96",Index="SPY",Case96$abc),
  data.frame(Case="96",Index="XLI",Case96.XLI$abc),
  data.frame(Case="97",Index="SPY",Case97$abc),
  data.frame(Case="97",Index="XLU",Case97.XLU$abc),
  data.frame(Case="98",Index="SPY",Case98$abc),
  data.frame(Case="98",Index="XLY",Case98.XLY$abc),
  data.frame(Case="99",Index="SPY",Case99$abc),
  data.frame(Case="99",Index="IYZ",Case99.IYZ$abc),
  data.frame(Case="99",Index="XLF",Case99.XLF$abc),
  data.frame(Case="100",Index="SPY",Case100$abc),
  data.frame(Case="100",Index="IYZ",Case100.IYZ$abc),
  data.frame(Case="100",Index="XLF",Case100.XLF$abc),
  data.frame(Case="100",Index="XLK",Case100.XLK$abc),
  data.frame(Case="100",Index="XLV",Case100.XLV$abc),
  data.frame(Case="100",Index="XLY",Case100.XLY$abc),
  data.frame(Case="101",Index="SPY",Case101$abc),
  data.frame(Case="101",Index="VOX",Case101.VOX$abc),
  data.frame(Case="101",Index="IYZ",Case101.IYZ$abc),
  data.frame(Case="102",Index="SPY",Case102$abc),
  data.frame(Case="102",Index="XLY",Case102.XLY$abc),
  data.frame(Case="103",Index="SPY",Case103$abc),
  data.frame(Case="103",Index="KIE",Case103.KIE$abc),
  data.frame(Case="104",Index="SPY",Case104$abc),
  data.frame(Case="104",Index="XLP",Case104.XLP$abc),
  data.frame(Case="105",Index="SPY",Case105$abc),
  data.frame(Case="105",Index="XLE",Case105.XLE$abc),
  data.frame(Case="105",Index="XLU",Case105.XLU$abc),
  data.frame(Case="106",Index="SPY",Case106$abc),
  data.frame(Case="106",Index="XLF",Case106.XLF$abc),
  data.frame(Case="107",Index="SPY",Case107$abc),
  data.frame(Case="107",Index="XLK",Case107.XLK$abc),
  data.frame(Case="108",Index="SPY",Case108$abc),
  data.frame(Case="108",Index="XLI",Case108.XLI$abc),
  data.frame(Case="109",Index="SPY",Case109$abc),
  data.frame(Case="109",Index="XLK",Case109.XLK$abc),
  data.frame(Case="110",Index="SPY",Case110$abc),
  data.frame(Case="110",Index="XLF",Case110.XLF$abc),
  data.frame(Case="111",Index="SPY",Case111$abc),
  data.frame(Case="111",Index="XLV",Case111.XLV$abc),
  data.frame(Case="112",Index="SPY",Case112$abc),
  data.frame(Case="113",Index="SPY",Case113$abc),
  data.frame(Case="114",Index="SPY",Case114$abc),
  data.frame(Case="115",Index="SPY",Case115$abc),
  data.frame(Case="116",Index="SPY",Case116$abc),
  data.frame(Case="117",Index="SPY",Case117$abc),
  data.frame(Case="118",Index="SPY",Case118$abc),
  data.frame(Case="119",Index="SPY",Case119$abc),
  data.frame(Case="119",Index="XLY",Case119.XLY$abc),
  data.frame(Case="120",Index="SPY",Case120$abc),
  data.frame(Case="120",Index="XLY",Case120.XLY$abc),
  data.frame(Case="120",Index="VOX",Case120.VOX$abc),
  data.frame(Case="121",Index="SPY",Case121$abc),
  data.frame(Case="121",Index="XLE",Case121.XLE$abc),
  data.frame(Case="121",Index="XES",Case121.XES$abc),
  data.frame(Case="121",Index="XOP",Case121.XOP$abc),
  data.frame(Case="122",Index="SPY",Case122$abc),
  data.frame(Case="122",Index="XLF",Case122.XLF$abc),
  data.frame(Case="123",Index="SPY",Case123$abc),
  data.frame(Case="123",Index="XLP",Case123.XLP$abc),
  data.frame(Case="124",Index="SPY",Case124$abc),
  data.frame(Case="124",Index="XLI",Case124.XLI$abc),
  data.frame(Case="125",Index="SPY",Case125$abc),
  data.frame(Case="126",Index="SPY",Case126$abc),
  data.frame(Case="127",Index="SPY",Case127$abc),
  data.frame(Case="128",Index="SPY",Case128$abc),
  data.frame(Case="129",Index="SPY",Case129$abc),
  data.frame(Case="129",Index="XLY",Case129.XLY$abc),
  data.frame(Case="129",Index="VOX",Case129.VOX$abc),
  data.frame(Case="130",Index="SPY",Case130$abc),
  data.frame(Case="130",Index="XLI",Case130.XLI$abc),
  data.frame(Case="131",Index="SPY",Case131$abc),
  data.frame(Case="131",Index="XLF",Case131.XLF$abc),
  data.frame(Case="132",Index="SPY",Case132$abc),
  data.frame(Case="132",Index="XLB",Case132.XLB$abc),
  data.frame(Case="133",Index="SPY",Case133$abc),
  data.frame(Case="133",Index="XLF",Case133.XLF$abc),
  data.frame(Case="134",Index="SPY",Case134$abc),
  data.frame(Case="134",Index="XLY",Case134.XLY$abc),
  data.frame(Case="135",Index="SPY",Case135$abc),
  data.frame(Case="135",Index="XLI",Case135.XLI$abc),
  data.frame(Case="136",Index="SPY",Case136$abc),
  data.frame(Case="136",Index="XLU",Case136.XLU$abc),
  data.frame(Case="137",Index="SPY",Case137$abc),
  data.frame(Case="137",Index="XLU",Case137.XLU$abc),
  data.frame(Case="138",Index="SPY",Case138$abc),
  data.frame(Case="138",Index="XLP",Case138.XLP$abc),
  data.frame(Case="139",Index="SPY",Case139$abc),
  data.frame(Case="139",Index="XLE",Case139.XLE$abc),
  data.frame(Case="139",Index="XES",Case139.XES$abc),
  data.frame(Case="139",Index="XOP",Case139.XOP$abc),
  data.frame(Case="140",Index="SPY",Case140$abc),
  data.frame(Case="140",Index="XLI",Case140.XLI$abc),
  data.frame(Case="141",Index="SPY",Case141$abc),
  data.frame(Case="141",Index="XLF",Case141.XLF$abc),
  data.frame(Case="142",Index="SPY",Case142$abc),
  data.frame(Case="143",Index="SPY",Case143$abc),
  data.frame(Case="144",Index="SPY",Case144$abc),
  data.frame(Case="144",Index="XLI",Case144.XLI$abc),
  data.frame(Case="145",Index="SPY",Case145$abc),
  data.frame(Case="145",Index="XLV",Case145.XLV$abc),
  data.frame(Case="145",Index="XPH",Case145.XPH$abc),
  data.frame(Case="146",Index="SPY",Case146$abc),
  data.frame(Case="146",Index="XLF",Case146.XLF$abc),
  data.frame(Case="147",Index="SPY",Case147$abc),
  data.frame(Case="147",Index="XLP",Case147.XLP$abc),
  data.frame(Case="148",Index="SPY",Case148$abc),
  data.frame(Case="148",Index="XLY",Case148.XLY$abc),
  data.frame(Case="149",Index="SPY",Case149$abc),
  data.frame(Case="149",Index="XLF",Case149.XLF$abc),
  data.frame(Case="150",Index="SPY",Case150$abc),
  data.frame(Case="150",Index="XLV",Case150.XLV$abc),
  data.frame(Case="150",Index="XPH",Case150.XPH$abc),
  data.frame(Case="151",Index="SPY",Case151$abc),
  data.frame(Case="151",Index="XLI",Case151.XLI$abc),
  data.frame(Case="152",Index="SPY",Case152$abc),
  data.frame(Case="152",Index="XLY",Case152.XLY$abc),
  data.frame(Case="153",Index="SPY",Case153$abc),
  data.frame(Case="153",Index="XLY",Case153.XLY$abc),
  data.frame(Case="153",Index="VOX",Case153.VOX$abc),
  data.frame(Case="153",Index="XTL",Case153.XTL$abc),
  data.frame(Case="154",Index="SPY",Case154$abc),
  data.frame(Case="154",Index="XLV",Case154.XLV$abc),
  data.frame(Case="154",Index="XPH",Case154.XPH$abc),
  data.frame(Case="155",Index="SPY",Case155$abc),
  data.frame(Case="155",Index="VOX",Case155.VOX$abc),
  data.frame(Case="155",Index="XTL",Case155.XTL$abc),
  data.frame(Case="156",Index="SPY",Case156$abc),
  data.frame(Case="156",Index="XLF",Case156.XLF$abc),
  data.frame(Case="157",Index="SPY",Case157$abc),
  data.frame(Case="157",Index="XLI",Case157.XLI$abc),
  data.frame(Case="158",Index="SPY",Case158$abc),
  data.frame(Case="158",Index="XLY",Case158.XLY$abc),
  data.frame(Case="159",Index="SPY",Case159$abc),
  data.frame(Case="159",Index="XLE",Case159.XLE$abc),
  data.frame(Case="159",Index="XES",Case159.XES$abc),
  data.frame(Case="159",Index="XOP",Case159.XOP$abc),
  data.frame(Case="159",Index="GNR",Case159.GNR$abc),
  data.frame(Case="160",Index="SPY",Case160$abc),
  data.frame(Case="160",Index="XLK",Case160.XLK$abc),
  data.frame(Case="161",Index="SPY",Case161$abc),
  data.frame(Case="161",Index="XLK",Case161.XLK$abc),
  data.frame(Case="162",Index="SPY",Case162$abc),
  data.frame(Case="162",Index="XLF",Case162.XLF$abc),
  data.frame(Case="163",Index="SPY",Case163$abc),
  data.frame(Case="163",Index="XLY",Case163.XLY$abc),
  data.frame(Case="164",Index="SPY",Case164$abc),
  data.frame(Case="164",Index="XLU",Case164.XLU$abc),
  data.frame(Case="165",Index="SPY",Case165$abc),
  data.frame(Case="165",Index="XLI",Case165.XLI$abc),
  data.frame(Case="166",Index="SPY",Case166$abc),
  data.frame(Case="166",Index="XLY",Case166.XLY$abc),
  data.frame(Case="167",Index="SPY",Case167$abc),
  data.frame(Case="167",Index="XLY",Case167.XLY$abc),
  data.frame(Case="168",Index="SPY",Case168$abc),
  data.frame(Case="168",Index="XLF",Case168.XLF$abc),
  data.frame(Case="169",Index="SPY",Case169$abc),
  data.frame(Case="169",Index="XLK",Case169.XLK$abc),
  data.frame(Case="170",Index="SPY",Case170$abc),
  data.frame(Case="170",Index="XLP",Case170.XLP$abc),
  data.frame(Case="171",Index="SPY",Case171$abc),
  data.frame(Case="171",Index="XLF",Case171.XLF$abc),
  data.frame(Case="172",Index="SPY",Case172$abc),
  data.frame(Case="172",Index="XLV",Case172.XLV$abc),
  data.frame(Case="172",Index="XPH",Case172.XPH$abc),
  data.frame(Case="172",Index="XBI",Case172.XBI$abc),
  data.frame(Case="172",Index="XHE",Case172.XHE$abc),
  data.frame(Case="173",Index="SPY",Case173$abc),
  data.frame(Case="173",Index="XLI",Case173.XLI$abc),
  data.frame(Case="173",Index="XLY",Case173.XLY$abc),
  data.frame(Case="174",Index="SPY",Case174$abc),
  data.frame(Case="174",Index="XLV",Case174.XLV$abc),
  data.frame(Case="174",Index="XPH",Case174.XPH$abc),
  data.frame(Case="174",Index="XBI",Case174.XBI$abc),
  data.frame(Case="174",Index="XHE",Case174.XHE$abc),
  data.frame(Case="175",Index="SPY",Case175$abc),
  data.frame(Case="175",Index="XLE",Case175.XLE$abc),
  data.frame(Case="175",Index="XES",Case175.XES$abc),
  data.frame(Case="175",Index="XLU",Case175.XLU$abc),
  data.frame(Case="175",Index="XOP",Case175.XOP$abc),
  data.frame(Case="175",Index="GNR",Case175.GNR$abc),
  data.frame(Case="176",Index="SPY",Case176$abc),
  data.frame(Case="176",Index="XLY",Case176.XLY$abc),
  data.frame(Case="177",Index="SPY",Case177$abc),
  data.frame(Case="177",Index="XLV",Case177.XLV$abc),
  data.frame(Case="178",Index="SPY",Case178$abc),
  data.frame(Case="178",Index="XLY",Case178.XLY$abc),
  data.frame(Case="179",Index="SPY",Case179$abc),
  data.frame(Case="179",Index="XLV",Case179.XLV$abc),
  data.frame(Case="180",Index="SPY",Case180$abc),
  data.frame(Case="180",Index="XLY",Case180.XLY$abc),
  data.frame(Case="181",Index="SPY",Case181$abc),
  data.frame(Case="181",Index="XLF",Case181.XLF$abc),
  data.frame(Case="182",Index="SPY",Case182$abc),
  data.frame(Case="182",Index="XLB",Case182.XLB$abc),
  data.frame(Case="183",Index="SPY",Case183$abc),
  data.frame(Case="183",Index="XLY",Case183.XLY$abc),
  data.frame(Case="183",Index="VOX",Case183.VOX$abc),
  data.frame(Case="183",Index="XTL",Case183.XTL$abc),
  data.frame(Case="184",Index="SPY",Case184$abc),
  data.frame(Case="184",Index="XLE",Case184.XLE$abc),
  data.frame(Case="184",Index="XES",Case184.XES$abc),
  data.frame(Case="184",Index="XOP",Case184.XOP$abc),
  data.frame(Case="184",Index="GNR",Case184.GNR$abc),
  data.frame(Case="185",Index="SPY",Case185$abc),
  data.frame(Case="185",Index="XLB",Case185.XLB$abc),
  data.frame(Case="185",Index="XLP",Case185.XLP$abc),
  data.frame(Case="186",Index="SPY",Case186$abc),
  data.frame(Case="186",Index="XLU",Case186.XLU$abc),
  data.frame(Case="187",Index="SPY",Case187$abc),
  data.frame(Case="187",Index="XLV",Case187.XLV$abc),
  data.frame(Case="187",Index="XPH",Case187.XPH$abc),
  data.frame(Case="187",Index="XBI",Case187.XBI$abc),
  data.frame(Case="187",Index="XHE",Case187.XHE$abc),
  data.frame(Case="188",Index="SPY",Case188$abc),
  data.frame(Case="188",Index="XLV",Case188.XLV$abc),
  data.frame(Case="188",Index="XPH",Case188.XPH$abc),
  data.frame(Case="188",Index="XBI",Case188.XBI$abc),
  data.frame(Case="188",Index="XHE",Case188.XHE$abc),
  data.frame(Case="189",Index="SPY",Case189$abc),
  data.frame(Case="189",Index="XLF",Case189.XLF$abc),
  data.frame(Case="190",Index="SPY",Case190$abc),
  data.frame(Case="190",Index="XLV",Case190.XLV$abc),
  data.frame(Case="190",Index="XPH",Case190.XPH$abc),
  data.frame(Case="190",Index="XBI",Case190.XBI$abc),
  data.frame(Case="190",Index="XHE",Case190.XHE$abc),
  data.frame(Case="191",Index="SPY",Case191$abc),
  data.frame(Case="192",Index="SPY",Case192$abc),
  data.frame(Case="192",Index="XLY",Case192.XLY$abc),
  data.frame(Case="192",Index="VOX",Case192.VOX$abc),
  data.frame(Case="192",Index="XTL",Case192.XTL$abc),
  data.frame(Case="193",Index="SPY",Case193$abc),
  data.frame(Case="193",Index="XLY",Case193.XLY$abc),
  data.frame(Case="194",Index="SPY",Case194$abc),
  data.frame(Case="194",Index="XLK",Case194.XLK$abc),
  data.frame(Case="195",Index="SPY",Case195$abc),
  data.frame(Case="196",Index="SPY",Case196$abc),
  data.frame(Case="196",Index="XLB",Case196$abc),
  data.frame(Case="197",Index="SPY",Case197$abc),
  data.frame(Case="197",Index="XLK",Case197.XLK$abc),
  data.frame(Case="197",Index="XLI",Case197.XLI$abc),
  data.frame(Case="198",Index="SPY",Case198$abc),
  data.frame(Case="198",Index="XLI",Case198.XLI$abc),
  data.frame(Case="199",Index="SPY",Case199$abc),
  data.frame(Case="199",Index="XLY",Case199.XLY$abc),
  data.frame(Case="200",Index="SPY",Case200$abc),
  data.frame(Case="200",Index="XLK",Case200.XLK$abc),
  data.frame(Case="201",Index="SPY",Case201$abc),
  data.frame(Case="201",Index="XLY",Case201.XLY$abc),
  data.frame(Case="202",Index="SPY",Case202$abc),
  data.frame(Case="202",Index="XLI",Case202.XLI$abc),
  data.frame(Case="202",Index="XLK",Case202.XLK$abc),
  data.frame(Case="203",Index="SPY",Case203$abc),
  data.frame(Case="203",Index="XLP",Case203.XLP$abc),
  data.frame(Case="204",Index="SPY",Case204$abc),
  data.frame(Case="204",Index="XLI",Case204.XLI$abc),
  data.frame(Case="205",Index="SPY",Case205$abc),
  data.frame(Case="206",Index="SPY",Case206$abc),
  data.frame(Case="206",Index="XLF",Case206.XLF$abc),
  data.frame(Case="207",Index="SPY",Case207$abc),
  data.frame(Case="207",Index="XLU",Case207.XLU$abc),
  data.frame(Case="207",Index="XES",Case207.XES$abc),
  data.frame(Case="207",Index="XLE",Case207.XLE$abc),
  data.frame(Case="207",Index="XOP",Case207.XOP$abc),
  data.frame(Case="207",Index="GNR",Case207.GNR$abc),
  data.frame(Case="208",Index="SPY",Case208$abc),
  data.frame(Case="208",Index="XLU",Case208.XLU$abc),
  data.frame(Case="208",Index="XES",Case208.XES$abc),
  data.frame(Case="208",Index="XLE",Case208.XLE$abc),
  data.frame(Case="208",Index="XOP",Case208.XOP$abc),
  data.frame(Case="208",Index="GNR",Case208.GNR$abc),
  data.frame(Case="209",Index="SPY",Case209$abc),
  data.frame(Case="209",Index="XLY",Case209.XLY$abc),
  data.frame(Case="209",Index="VOX",Case209.VOX$abc),
  data.frame(Case="209",Index="XTL",Case209.XTL$abc),
  data.frame(Case="210",Index="SPY",Case210$abc),
  data.frame(Case="210",Index="XLF",Case210.XLF$abc),
  data.frame(Case="211",Index="SPY",Case211$abc),
  data.frame(Case="211",Index="XLY",Case211.XLY$abc),
  data.frame(Case="211",Index="VOX",Case211.VOX$abc),
  data.frame(Case="211",Index="XTL",Case211.XTL$abc))

  #Combine the list of data frames we just created into one large dataframe.
  #This is very important for a number of future operations that we will want to undertake
  LOTM_Stats <- do.call(rbind, LOTM_Stats)


#===============
#Basic Cleaning
#===============

#Remove GNT symbol rows since we aren't interested in the 
#group significance of the stocks we studied in a given case.
LOTM_Stats <- filter(LOTM_Stats, !grepl('GNT', name))

#Separate the "CiT" prefix and any suffixes from symbols for readability. 
LOTM_Stats <- LOTM_Stats %>%
  separate(name, into = c("prefix", "Symbol"), extra="drop")

#Drop the "CiT" prefix column by selecting all columns but that one.
LOTM_Stats <- LOTM_Stats %>%
  select(-prefix)

#==============================================
#Pull Case info from SCOTUS db of cases selected for study by expert coders (file path may vary depending on computer configuration)
#==============================================
Case_List <- read.csv("./data/events/LOTM_Case_Names.csv")

Case_List <- Case_List %>%
  select(Case, dateDecision, sctCite, term, docket, shortName)

#Add basic Case info to the LOTM_Stats table we just created.  
#First we need to convert these case numbers to integers
LOTM_Stats$Case <- as.integer(LOTM_Stats$Case)

#left_join is used to pull together the two data objects - here we are using "Case" as the means of binding them together 
LOTM_Stats <- left_join(LOTM_Stats, Case_List, by = "Case")

#View stats for all
#View(LOTM_Stats)


